(this.webpackJsonpshopreact=this.webpackJsonpshopreact||[]).push([[0],{40:function(e,t,c){},42:function(e,t,c){},44:function(e,t,c){},63:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c.n(a),s=c(33),i=c.n(s),n=(c(40),c(4)),o=c(24),d=c(7),l=c.n(d),j=c(12),m=c(9),u=(c(42),c(0)),h=function(e){var t=e.title,c=e.description,a=e.img,r=e.alt,s=e.onClick;return Object(u.jsxs)("div",{className:"infoCart",children:[Object(u.jsx)("img",{alt:r,src:a}),Object(u.jsx)("h1",{children:t}),Object(u.jsx)("h3",{children:c}),Object(u.jsxs)("button",{className:"toOrder",onClick:s,children:[Object(u.jsx)("img",{className:"imgLeft",src:"https://dimaa4.github.io/ReactShop/img/arrow-left.svg",alt:"button"}),Object(u.jsx)("span",{children:"Go shopping! "})]})]})},b=(c(44),c(5)),p=c.n(b),x=function(e){var t=e.item,c=e.removeItemCart;return Object(u.jsxs)("div",{className:"cartItem",children:[Object(u.jsxs)("div",{className:"imgAndName",children:[Object(u.jsx)("img",{className:"cartItemImg",src:t.img,alt:t.name}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:t.name}),Object(u.jsx)("h4",{children:t.price})]})]}),Object(u.jsx)("img",{onClick:function(){c(t)},className:"remove",src:"https://dimaa4.github.io/ReactShop/img/remove.svg",alt:"Remove"})]})},O=function(e){var t=e.onClickClose,c=e.removeItemCart,a=e.isCartOpen,s=r.a.useState(!1),i=Object(m.a)(s,2),n=i[0],o=i[1],d=r.a.useContext(y),b=d.cartItems,O=d.setCartItems,g=r.a.useState(null),v=Object(m.a)(g,2),f=v[0],I=v[1],k=r.a.useState(!1),C=Object(m.a)(k,2),N=C[0],S=C[1];var R=b.reduce((function(e,t){return e+t.price}),0),w=function(){var e=Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),e.next=4,p.a.post("https://619ce80668ebaa001753cd8d.mockapi.io/orders",{items:b});case 4:t=e.sent,c=t.data,I(c.id),b.forEach((function(e){p.a.delete("https://619ce80668ebaa001753cd8d.mockapi.io/cart/".concat(e.id))})),O([]),o(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("ERROR");case 15:S(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return a?(window.scrollTo(0,0),window.onscroll=function(){window.scrollTo(0,0)}):a||(window.onscroll=""),Object(u.jsx)("div",{className:"overlay ".concat(a?"overlayOpened":null),tabIndex:"0",onClick:function(e){var c=document.querySelector(".overlay");e.target===c&&(t(),console.log(a))},onKeyDown:function(e){"Escape"===e.code&&t()},children:Object(u.jsxs)("div",{className:"drawer",children:[Object(u.jsxs)("div",{className:"items",children:[Object(u.jsxs)("div",{className:"h1AndX",children:[Object(u.jsx)("h1",{children:"Cart:"}),Object(u.jsx)("img",{alt:"closeCart",onClick:t,src:"https://dimaa4.github.io/ReactShop/img/x-lg.svg"})]}),Object(u.jsx)("hr",{}),0!==b.length?b.map((function(e){return Object(u.jsx)(x,{removeItemCart:c,item:e},e.id)})):n?Object(u.jsx)(h,{title:"Your order is complete!",description:"Your order \u2116".concat(f,". Courier will arrive soon"),img:"https://dimaa4.github.io/ReactShop/img/orderCompleted.svg",alt:"Order completed",onClick:t}):Object(u.jsx)(h,{title:"Your cart is empty!",description:"Add at least one product to place an order",img:"https://dimaa4.github.io/ReactShop/img/emptyCart.svg",alt:"Empty Cart",onClick:t})]}),0!==b.length&&Object(u.jsxs)("div",{className:"drawerBottom",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"Total "}),Object(u.jsx)("div",{className:"dash"})," ",Object(u.jsxs)("span",{children:[" ",R,"$"]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"Bills 5% "}),Object(u.jsx)("div",{className:"dash"})," ",Object(u.jsxs)("span",{children:[.05*R,"$"]})]}),Object(u.jsxs)("button",{disabled:N,onClick:w,className:"toOrder",children:[Object(u.jsx)("span",{children:"To order "})," ",Object(u.jsx)("img",{className:"imgRight",src:"https://dimaa4.github.io/ReactShop/img/arrow-right.svg",alt:"button"})]})]})]})})},g=c(13),v=(c(63),function(e){var t=r.a.useContext(y).cartItems.reduce((function(e,t){return e+t.price}),0);return Object(u.jsxs)("header",{children:[Object(u.jsx)(g.b,{to:"/ReactShop/",children:Object(u.jsxs)("div",{className:"headerLeft",children:[Object(u.jsx)("img",{src:"https://dimaa4.github.io/ReactShop/img/logoShop.svg",className:"logo",alt:"logo"}),Object(u.jsx)("div",{className:"headerInfo",children:e.clientWidth>500&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"React Shop"}),Object(u.jsx)("p",{children:"Shop of the best products"})]})})]})}),Object(u.jsxs)("ul",{className:"headerRight",children:[Object(u.jsxs)("li",{className:"sumOfMoney",onClick:e.onClickCart,children:[Object(u.jsx)("img",{src:"https://dimaa4.github.io/ReactShop/img/cart.svg",className:"svgRight",alt:"cart"}),Object(u.jsxs)("h3",{children:[t,"$"]})]}),Object(u.jsx)("li",{children:Object(u.jsx)(g.b,{to:"/favorites/",children:Object(u.jsx)("img",{src:"https://dimaa4.github.io/ReactShop/img/heart.svg",className:"svgRight svgHeart",alt:"account"})})}),Object(u.jsx)("li",{children:Object(u.jsx)(g.b,{to:"/orders/",children:Object(u.jsx)("img",{src:"https://dimaa4.github.io/ReactShop/img/account.svg",className:"svgRight svgAccount",alt:"account"})})})]})]})}),f=c(2),I=(c(72),c(35)),k=function(e){var t=e.addItemToLiked,c=e.addItemToCart,a=e.item,s=e.loading,i=void 0!==s&&s,n=r.a.useContext(y),o=n.cartItems,d=n.cardLikedItems,l=function(e){return o.some((function(t){return Number(e)===Number(t.productId)}))},j=function(e){return d.some((function(t){return Number(e)===Number(t.productId)}))};return Object(u.jsx)("div",{className:"card",children:i?Object(u.jsxs)(I.a,{speed:2,width:175,height:323,viewBox:"0 0 175 323",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(u.jsx)("rect",{x:"0",y:"0",rx:"15",ry:"15",width:"175",height:"175"}),Object(u.jsx)("rect",{x:"0",y:"190",rx:"8",ry:"8",width:"175",height:"25"}),Object(u.jsx)("rect",{x:"0",y:"227",rx:"8",ry:"8",width:"120",height:"25"}),Object(u.jsx)("rect",{x:"0",y:"279",rx:"5",ry:"5",width:"80",height:"30"}),Object(u.jsx)("rect",{x:"135",y:"276",rx:"10",ry:"10",width:"33",height:"33"})]}):Object(u.jsxs)(u.Fragment,{children:[t&&Object(u.jsx)("img",{className:"likeSvg",onClick:function(){t(a)},src:j(a.prId)?"https://dimaa4.github.io/ReactShop/img/liked.svg":"https://dimaa4.github.io/ReactShop/img/heart.svg",alt:"like",style:j(a.prId)?{opacity:1,border:0}:{opacity:.4}})," ",Object(u.jsx)("br",{}),Object(u.jsx)("img",{className:"goodImg",src:a.img,alt:a.name})," ",Object(u.jsx)("br",{}),Object(u.jsxs)("div",{className:"m-l-15",children:[Object(u.jsx)("h3",{className:"goodName",children:a.name}),Object(u.jsxs)("div",{className:"priceAndPlus",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"price",children:"Price:"}),Object(u.jsxs)("h4",{children:[a.price,"$"]})]}),c&&Object(u.jsx)("img",{src:l(a.id)?"https://dimaa4.github.io/ReactShop/img/added.svg":"https://dimaa4.github.io/ReactShop/img/plus.svg",style:l(a.id)?{opacity:1,border:0}:{opacity:.4},className:"plusSvg",alt:"addToCart",onClick:function(){c(a)}})]})]})]})})},C=function(e){var t=e.addItemToCart,c=e.onChangeInputSearch,s=e.searchValue,i=e.clearInputSearch,o=e.removeItemLiked,d=e.removeItemCart,l=e.addItemToLiked,j=e.loading,m=r.a.useContext(y);return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("div",{className:"contentHeader",children:[Object(u.jsx)("h1",{children:s?'Search by: "'.concat(s,'"'):"All products"}),Object(u.jsxs)("div",{className:"search",children:[Object(u.jsx)("input",{onChange:c,type:"text",value:s,placeholder:"Search...",className:"searchInput"}),s&&Object(u.jsx)("img",{alt:"clear search",className:"clearSearchInput",onClick:i,src:"https://dimaa4.github.io/ReactShop/img/x-lg.svg"})]})]}),Object(u.jsx)("div",{className:"cards",children:j?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(k,{loading:!0}),Object(u.jsx)(k,{loading:!0}),Object(u.jsx)(k,{loading:!0}),Object(u.jsx)(k,{loading:!0}),Object(u.jsx)(k,{loading:!0}),Object(u.jsx)(k,{loading:!0}),Object(u.jsx)(k,{loading:!0}),Object(u.jsx)(k,{loading:!0})]}):m.items.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())})).map((function(e){return e.prId=e.id,Object(a.createElement)(k,Object(n.a)(Object(n.a)({addItemToLiked:l,removeItemLiked:o,addItemToCart:t,removeItemCart:d,item:e},e),{},{key:e.id}))}))})]})},N=function(e){e.addItemToCart,e.removeItemLiked,e.removeItemCart,e.addItemToLiked;var t=r.a.useState([]),c=Object(m.a)(t,2),s=c[0],i=c[1];return r.a.useEffect((function(){Object(j.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("https://619ce80668ebaa001753cd8d.mockapi.io/orders");case 3:t=e.sent,c=t.data,i(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),alert("ERROR");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]),console.log(s),Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("div",{className:"contentHeader",children:Object(u.jsx)("h1",{children:"Your orders: "})}),Object(u.jsx)("div",{children:s.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"order",children:[Object(u.jsxs)("h2",{children:["Order \u2116",e.id," :"]}),Object(u.jsx)("div",{className:"cards",children:e.items.map((function(e){return Object(a.createElement)(k,Object(n.a)(Object(n.a)({item:e},e),{},{key:e.id}))}))})]}),Object(u.jsx)("br",{})]})}))})]})},S=function(e){var t=e.addItemToCart,c=e.removeItemLiked,s=e.removeItemCart,i=e.addItemToLiked,o=r.a.useContext(y);return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("div",{className:"contentHeader",children:Object(u.jsx)("h1",{children:"Your favorites"})}),Object(u.jsx)("div",{className:"cards",children:o.cardLikedItems.map((function(e){return e.prId=e.productId,Object(a.createElement)(k,Object(n.a)(Object(n.a)({addItemToLiked:i,removeItemLiked:c,addItemToCart:t,removeItemCart:s,item:e},e),{},{key:e.id}))}))})]})},y=r.a.createContext({});var R=function(){var e=r.a.useState(!1),t=Object(m.a)(e,2),c=t[0],a=t[1],s=r.a.useState([]),i=Object(m.a)(s,2),d=i[0],h=i[1],b=r.a.useState([]),x=Object(m.a)(b,2),g=x[0],I=x[1],k=r.a.useState([]),R=Object(m.a)(k,2),w=R[0],T=R[1],L=r.a.useState(""),E=Object(m.a)(L,2),A=E[0],Y=E[1],B=r.a.useState(!0),F=Object(m.a)(B,2),H=F[0],$=F[1];function P(e){return W.apply(this,arguments)}function W(){return(W=Object(j.a)(l.a.mark((function e(t){var c,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(c=d.find((function(e){return Number(t.id)===e.productId})))){e.next=7;break}h((function(e){return e.filter((function(e){return Number(e.productId)!==Number(t.id)}))})),p.a.delete("https://619ce80668ebaa001753cd8d.mockapi.io/cart/".concat(c.id)),e.next=16;break;case 7:return t.productId=t.id,h((function(e){return[].concat(Object(o.a)(e),[t])})),e.next=11,p.a.post("https://619ce80668ebaa001753cd8d.mockapi.io/cart",{name:t.name,price:t.price,img:t.img,productId:t.id});case 11:a=e.sent,r=a.data,console.log(d),h((function(e){return e.map((function(e){return e.productId===r.productId?Object(n.a)(Object(n.a)({},e),{},{id:r.id}):e}))})),console.log(d);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),alert("ERROR");case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}r.a.useEffect((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://619ce80668ebaa001753cd8d.mockapi.io/cart");case 2:return t=e.sent,e.next=5,p.a.get("https://619ce80668ebaa001753cd8d.mockapi.io/liked");case 5:return c=e.sent,e.next=8,p.a.get("https://619ce80668ebaa001753cd8d.mockapi.io/items");case 8:a=e.sent,h(t.data),I(c.data),T(a.data),$(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var J=function(){var e=Object(j.a)(l.a.mark((function e(t){var c,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=g.find((function(e){return Number(t.prId)===Number(e.productId)})),e.prev=1,!c){e.next=8;break}I((function(e){return e.filter((function(e){return Number(e.productId)!==Number(t.prId)}))})),p.a.delete("https://619ce80668ebaa001753cd8d.mockapi.io/liked/".concat(c.id)),console.log(g),e.next=15;break;case 8:return t.productId=t.prId,I((function(e){return[].concat(Object(o.a)(e),[t])})),e.next=12,p.a.post("https://619ce80668ebaa001753cd8d.mockapi.io/liked",{name:t.name,price:t.price,img:t.img,productId:t.id});case 12:a=e.sent,r=a.data,I((function(e){return e.map((function(e){return e.productId===r.productId?Object(n.a)(Object(n.a)({},e),{},{id:r.id}):e}))}));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),alert("ERROR");case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();function M(e){h((function(t){return t.filter((function(t){return Number(t.id)!==Number(e.id)}))})),p.a.delete("https://619ce80668ebaa001753cd8d.mockapi.io/cart/".concat(e.id))}var V=document.documentElement.clientWidth;return Object(u.jsx)(y.Provider,{value:{items:w,cartItems:d,cardLikedItems:g,setCartItems:h},children:Object(u.jsxs)("div",{children:[Object(u.jsx)(O,{isCartOpen:c,removeItemCart:M,onClickClose:function(){a(!1)}}),Object(u.jsxs)("div",{className:"conteiner",children:[Object(u.jsx)(v,{onClickCart:function(){a(!0)},clientWidth:V}),Object(u.jsx)("hr",{}),Object(u.jsx)(f.a,{path:"/ReactShop/",exact:!0,children:Object(u.jsx)(C,{items:w,addItemToCart:P,onChangeInputSearch:function(e){Y(e.target.value)},searchValue:A,clearInputSearch:function(){Y("")},removeItemCart:M,addItemToLiked:J,cardLikedItems:g,cartItems:d,loading:H})}),Object(u.jsxs)(f.a,{path:"/favorites/",children:[" ",Object(u.jsx)(S,{addItemToCart:P,removeItemCart:M,addItemToLiked:J,cartItems:d})," "]}),Object(u.jsx)(f.a,{path:"/orders/",children:Object(u.jsx)(N,{addItemToCart:P,removeItemCart:M,addItemToLiked:J})})]})]})})};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(g.a,{children:Object(u.jsx)(R,{})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.06d7f31d.chunk.js.map